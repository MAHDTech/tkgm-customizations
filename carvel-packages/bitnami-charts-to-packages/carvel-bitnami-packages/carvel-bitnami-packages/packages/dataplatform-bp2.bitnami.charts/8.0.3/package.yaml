---
apiVersion: data.packaging.carvel.dev/v1alpha1
kind: Package
metadata:
  name: dataplatform-bp2.bitnami.charts.8.0.3
spec:
  refName: dataplatform-bp2.bitnami.charts
  version: 8.0.3
  releaseNotes: |
        OCTO Data platform Kafka-Spark-Elasticsearch Helm Chart
  valuesSchema:
    openAPIv3:
      title: "Chart Values"
      type: "object"
      properties: 
        global: 
          type: "object"
          properties: 
            imageRegistry: 
              type: "string"
              default: ""
              description: "Global Docker image registry"
            imagePullSecrets: 
              type: "array"
              default: "[]"
              description: "Global Docker registry secret names as an array"
            storageClass: 
              type: "string"
              default: ""
              description: "Global StorageClass for Persistent Volume(s)"
        commonLabels: 
          type: "object"
          default: "{}"
          description: "Labels to add to all deployed objects"
        commonAnnotations: 
          type: "object"
          default: "{}"
          description: "Annotations to add to all deployed objects"
        dataplatform: 
          type: "object"
          properties: 
            serviceAccount: 
              type: "object"
              properties: 
                create: 
                  type: "boolean"
                  default: true
                  description: "Specifies whether a ServiceAccount should be created"
                name: 
                  type: "string"
                  default: ""
                  description: "The name of the ServiceAccount to create"
                automountServiceAccountToken: 
                  type: "boolean"
                  default: true
                  description: "Allows auto mount of ServiceAccountToken on the serviceAccount created"
            rbac: 
              type: "object"
              properties: 
                create: 
                  type: "boolean"
                  default: true
                  description: "Whether to create & use RBAC resources or not"
            exporter: 
              type: "object"
              properties: 
                enabled: 
                  type: "boolean"
                  default: true
                  description: "Start a prometheus exporter"
                image: 
                  type: "object"
                  properties: 
                    registry: 
                      type: "string"
                      default: "docker.io"
                      description: "dataplatform exporter image registry"
                    repository: 
                      type: "string"
                      default: "bitnami/dataplatform-exporter"
                      description: "dataplatform exporter image repository"
                    tag: 
                      type: "string"
                      default: "0.0.11-scratch-r3"
                      description: "dataplatform exporter image tag (immutable tags are recommended)"
                    pullPolicy: 
                      type: "string"
                      default: "IfNotPresent"
                      description: "dataplatform exporter image pull policy"
                    pullSecrets: 
                      type: "array"
                      default: "[]"
                      description: "Specify docker-registry secret names as an array"
                livenessProbe: 
                  type: "object"
                  properties: 
                    enabled: 
                      type: "boolean"
                      default: true
                      description: "Enable livenessProbe"
                    initialDelaySeconds: 
                      type: "number"
                      default: 10
                      description: "Initial delay seconds for livenessProbe"
                    periodSeconds: 
                      type: "number"
                      default: 5
                      description: "Period seconds for livenessProbe"
                    timeoutSeconds: 
                      type: "number"
                      default: 15
                      description: "Timeout seconds for livenessProbe"
                    failureThreshold: 
                      type: "number"
                      default: 15
                      description: "Failure threshold for livenessProbe"
                    successThreshold: 
                      type: "number"
                      default: 1
                      description: "Success threshold for livenessProbe"
                readinessProbe: 
                  type: "object"
                  properties: 
                    enabled: 
                      type: "boolean"
                      default: true
                      description: "Enable readinessProbe"
                    initialDelaySeconds: 
                      type: "number"
                      default: 10
                      description: "Initial delay seconds for readinessProbe"
                    periodSeconds: 
                      type: "number"
                      default: 5
                      description: "Period seconds for readinessProbe"
                    timeoutSeconds: 
                      type: "number"
                      default: 15
                      description: "Timeout seconds for readinessProbe"
                    failureThreshold: 
                      type: "number"
                      default: 15
                      description: "Failure threshold for readinessProbe"
                    successThreshold: 
                      type: "number"
                      default: 15
                      description: "Success threshold for readinessProbe"
                startupProbe: 
                  type: "object"
                  properties: 
                    enabled: 
                      type: "boolean"
                      default: false
                      description: "Enable startupProbe"
                    initialDelaySeconds: 
                      type: "number"
                      default: 10
                      description: "Initial delay seconds for startupProbe"
                    periodSeconds: 
                      type: "number"
                      default: 5
                      description: "Period seconds for startupProbe"
                    timeoutSeconds: 
                      type: "number"
                      default: 15
                      description: "Timeout seconds for startupProbe"
                    failureThreshold: 
                      type: "number"
                      default: 15
                      description: "Failure threshold for startupProbe"
                    successThreshold: 
                      type: "number"
                      default: 15
                      description: "Success threshold for startupProbe"
                containerPorts: 
                  type: "object"
                  properties: 
                    http: 
                      type: "number"
                      default: 9090
                      description: "Data Platform Prometheus exporter port"
                priorityClassName: 
                  type: "string"
                  default: ""
                  description: "exporter priorityClassName"
                command: 
                  type: "array"
                  default: "[]"
                  description: "Override Data Platform Exporter entrypoint string."
                args: 
                  type: "array"
                  default: "[]"
                  description: "Arguments for the provided command if needed"
                resources: 
                  type: "object"
                  properties: 
                    limits: 
                      type: "object"
                      default: "{}"
                      description: "The resources limits for the container"
                    requests: 
                      type: "object"
                      default: "{}"
                      description: "The requested resources for the container"
                containerSecurityContext: 
                  type: "object"
                  properties: 
                    enabled: 
                      type: "boolean"
                      default: true
                      description: "Enable Data Platform exporter containers' Security Context"
                    runAsUser: 
                      type: "number"
                      default: 1001
                      description: "User ID for the containers."
                    runAsNonRoot: 
                      type: "boolean"
                      default: true
                      description: "Enable Data Platform exporter containers' Security Context runAsNonRoot"
                podSecurityContext: 
                  type: "object"
                  properties: 
                    enabled: 
                      type: "boolean"
                      default: true
                      description: "Enable Data Platform exporter pods' Security Context"
                    fsGroup: 
                      type: "number"
                      default: 1001
                      description: "Group ID for the pods."
                podAffinityPreset: 
                  type: "string"
                  default: ""
                  description: "Data Platform exporter pod affinity preset. Ignored if `affinity` is set. Allowed values: `soft` or `hard`"
                podAntiAffinityPreset: 
                  type: "string"
                  default: "soft"
                  description: "Data Platform exporter pod anti-affinity preset. Ignored if `affinity` is set. Allowed values: `soft` or `hard`"
                nodeAffinityPreset: 
                  type: "object"
                  properties: 
                    type: 
                      type: "string"
                      default: ""
                      description: "Data Platform exporter node affinity preset type. Ignored if `affinity` is set. Allowed values: `soft` or `hard`"
                    key: 
                      type: "string"
                      default: ""
                      description: "Data Platform exporter node label key to match Ignored if `affinity` is set."
                    values: 
                      type: "array"
                      default: "[]"
                      description: "Data Platform exporter node label values to match. Ignored if `affinity` is set."
                affinity: 
                  type: "object"
                  default: "{}"
                  description: "Affinity settings for exporter pod assignment. Evaluated as a template"
                nodeSelector: 
                  type: "object"
                  default: "{}"
                  description: "Node labels for exporter pods assignment. Evaluated as a template"
                tolerations: 
                  type: "array"
                  default: "[]"
                  description: "Tolerations for exporter pods assignment. Evaluated as a template"
                podLabels: 
                  type: "object"
                  default: "{}"
                  description: "Additional labels for Metrics exporter pod"
                podAnnotations: 
                  type: "object"
                  default: "{}"
                  description: "Additional annotations for Metrics exporter pod"
                customLivenessProbe: 
                  type: "object"
                  default: "{}"
                  description: "Override default liveness probe"
                customReadinessProbe: 
                  type: "object"
                  default: "{}"
                  description: "Override default readiness probe"
                customStartupProbe: 
                  type: "object"
                  default: "{}"
                  description: "Override default startup probe"
                updateStrategy: 
                  type: "object"
                  properties: 
                    type: 
                      type: "string"
                      default: "RollingUpdate"
                      description: "Update strategy - only really applicable for deployments with RWO PVs attached"
                    rollingUpdate: 
                      type: "object"
                      default: "{}"
                      description: "Deployment rolling update configuration parameters"
                extraEnvVars: 
                  type: "array"
                  default: "[]"
                  description: "Additional environment variables to set"
                extraEnvVarsCM: 
                  type: "string"
                  default: ""
                  description: "ConfigMap with extra environment variables"
                extraEnvVarsSecret: 
                  type: "string"
                  default: ""
                  description: "Secret with extra environment variables"
                extraVolumes: 
                  type: "array"
                  default: "[]"
                  description: "Extra volumes to add to the deployment"
                extraVolumeMounts: 
                  type: "array"
                  default: "[]"
                  description: "Extra volume mounts to add to the container"
                initContainers: 
                  type: "array"
                  default: "[]"
                  description: "Add init containers to the %%MAIN_CONTAINER_NAME%% pods"
                sidecars: 
                  type: "array"
                  default: "[]"
                  description: "Add sidecars to the %%MAIN_CONTAINER_NAME%% pods"
                service: 
                  type: "object"
                  properties: 
                    type: 
                      type: "string"
                      default: "ClusterIP"
                      description: "Service type for default Data Platform Prometheus exporter service"
                    annotations: 
                      type: "object"
                      default: "{}"
                      description: "Exporter service annotations"
                    labels: 
                      type: "object"
                      default: "{}"
                      description: "Additional labels for Data Platform exporter service"
                    ports: 
                      type: "object"
                      properties: 
                        http: 
                          type: "number"
                          default: 9090
                          description: "Kubernetes Service port"
                    loadBalancerIP: 
                      type: "string"
                      default: ""
                      description: "Load balancer IP for the Data Platform Exporter Service (optional, cloud specific)"
                    nodePorts: 
                      type: "object"
                      properties: 
                        http: 
                          type: "string"
                          default: ""
                          description: "Node ports for the HTTP exporter service"
                    loadBalancerSourceRanges: 
                      type: "array"
                      default: "[]"
                      description: "Exporter Load Balancer Source ranges"
                hostAliases: 
                  type: "array"
                  default: "[]"
                  description: "Deployment pod host aliases"
            emitter: 
              type: "object"
              properties: 
                enabled: 
                  type: "boolean"
                  default: true
                  description: "Start Data Platform metrics emitter"
                image: 
                  type: "object"
                  properties: 
                    registry: 
                      type: "string"
                      default: "docker.io"
                      description: "Data Platform emitter image registry"
                    repository: 
                      type: "string"
                      default: "bitnami/dataplatform-emitter"
                      description: "Data Platform emitter image repository"
                    tag: 
                      type: "string"
                      default: "0.0.10-scratch-r4"
                      description: "Data Platform emitter image tag (immutable tags are recommended)"
                    pullPolicy: 
                      type: "string"
                      default: "IfNotPresent"
                      description: "Data Platform emitter image pull policy"
                    pullSecrets: 
                      type: "array"
                      default: "[]"
                      description: "Specify docker-registry secret names as an array"
                livenessProbe: 
                  type: "object"
                  properties: 
                    enabled: 
                      type: "boolean"
                      default: true
                      description: "Enable livenessProbe"
                    initialDelaySeconds: 
                      type: "number"
                      default: 10
                      description: "Initial delay seconds for livenessProbe"
                    periodSeconds: 
                      type: "number"
                      default: 5
                      description: "Period seconds for livenessProbe"
                    timeoutSeconds: 
                      type: "number"
                      default: 15
                      description: "Timeout seconds for livenessProbe"
                    failureThreshold: 
                      type: "number"
                      default: 15
                      description: "Failure threshold for livenessProbe"
                    successThreshold: 
                      type: "number"
                      default: 1
                      description: "Success threshold for livenessProbe"
                readinessProbe: 
                  type: "object"
                  properties: 
                    enabled: 
                      type: "boolean"
                      default: true
                      description: "Enable readinessProbe"
                    initialDelaySeconds: 
                      type: "number"
                      default: 10
                      description: "Initial delay seconds for readinessProbe"
                    periodSeconds: 
                      type: "number"
                      default: 5
                      description: "Period seconds for readinessProbe"
                    timeoutSeconds: 
                      type: "number"
                      default: 15
                      description: "Timeout seconds for readinessProbe"
                    failureThreshold: 
                      type: "number"
                      default: 15
                      description: "Failure threshold for readinessProbe"
                    successThreshold: 
                      type: "number"
                      default: 15
                      description: "Success threshold for readinessProbe"
                startupProbe: 
                  type: "object"
                  properties: 
                    enabled: 
                      type: "boolean"
                      default: false
                      description: "Enable startupProbe"
                    initialDelaySeconds: 
                      type: "number"
                      default: 10
                      description: "Initial delay seconds for startupProbe"
                    periodSeconds: 
                      type: "number"
                      default: 5
                      description: "Period seconds for startupProbe"
                    timeoutSeconds: 
                      type: "number"
                      default: 15
                      description: "Timeout seconds for startupProbe"
                    failureThreshold: 
                      type: "number"
                      default: 15
                      description: "Failure threshold for startupProbe"
                    successThreshold: 
                      type: "number"
                      default: 15
                      description: "Success threshold for startupProbe"
                containerPorts: 
                  type: "object"
                  properties: 
                    http: 
                      type: "number"
                      default: 8091
                      description: "Data Platform emitter port"
                priorityClassName: 
                  type: "string"
                  default: ""
                  description: "exporter priorityClassName"
                command: 
                  type: "array"
                  default: "[]"
                  description: "Override Data Platform entrypoint string."
                args: 
                  type: "array"
                  default: "[]"
                  description: "Arguments for the provided command if needed"
                resources: 
                  type: "object"
                  properties: 
                    limits: 
                      type: "object"
                      default: "{}"
                      description: "The resources limits for the container"
                    requests: 
                      type: "object"
                      default: "{}"
                      description: "The requested resources for the container"
                containerSecurityContext: 
                  type: "object"
                  properties: 
                    enabled: 
                      type: "boolean"
                      default: true
                      description: "Enable Data Platform emitter containers' Security Context"
                    runAsUser: 
                      type: "number"
                      default: 1001
                      description: "User ID for the containers."
                    runAsNonRoot: 
                      type: "boolean"
                      default: true
                      description: "Enable Data Platform emitter containers' Security Context runAsNonRoot"
                podSecurityContext: 
                  type: "object"
                  properties: 
                    enabled: 
                      type: "boolean"
                      default: true
                      description: "Enable Data Platform emitter pods' Security Context"
                    fsGroup: 
                      type: "number"
                      default: 1001
                      description: "Group ID for the pods."
                podAffinityPreset: 
                  type: "string"
                  default: ""
                  description: "Data Platform emitter pod affinity preset. Ignored if `affinity` is set. Allowed values: `soft` or `hard`"
                podAntiAffinityPreset: 
                  type: "string"
                  default: "soft"
                  description: "Data Platform emitter pod anti-affinity preset. Ignored if `affinity` is set. Allowed values: `soft` or `hard`"
                nodeAffinityPreset: 
                  type: "object"
                  properties: 
                    type: 
                      type: "string"
                      default: ""
                      description: "Data Platform emitter node affinity preset type. Ignored if `affinity` is set. Allowed values: `soft` or `hard`"
                    key: 
                      type: "string"
                      default: ""
                      description: "Data Platform emitter node label key to match Ignored if `affinity` is set."
                    values: 
                      type: "array"
                      default: "[]"
                      description: "Data Platform emitter node label values to match. Ignored if `affinity` is set."
                affinity: 
                  type: "object"
                  default: "{}"
                  description: "Affinity settings for emitter pod assignment. Evaluated as a template"
                nodeSelector: 
                  type: "object"
                  default: "{}"
                  description: "Node labels for emitter pods assignment. Evaluated as a template"
                tolerations: 
                  type: "array"
                  default: "[]"
                  description: "Tolerations for emitter pods assignment. Evaluated as a template"
                podLabels: 
                  type: "object"
                  default: "{}"
                  description: "Additional labels for Metrics emitter pod"
                podAnnotations: 
                  type: "object"
                  default: "{}"
                  description: "Additional annotations for Metrics emitter pod"
                customLivenessProbe: 
                  type: "object"
                  default: "{}"
                  description: "Override default liveness probe%%MAIN_CONTAINER_NAME%%"
                customReadinessProbe: 
                  type: "object"
                  default: "{}"
                  description: "Override default readiness probe%%MAIN_CONTAINER_NAME%%"
                customStartupProbe: 
                  type: "object"
                  default: "{}"
                  description: "Override default startup probe"
                updateStrategy: 
                  type: "object"
                  properties: 
                    type: 
                      type: "string"
                      default: "RollingUpdate"
                      description: "Update strategy - only really applicable for deployments with RWO PVs attached"
                    rollingUpdate: 
                      type: "object"
                      default: "{}"
                      description: "Deployment rolling update configuration parameters"
                extraEnvVars: 
                  type: "array"
                  default: "[]"
                  description: "Additional environment variables to set"
                extraEnvVarsCM: 
                  type: "string"
                  default: ""
                  description: "ConfigMap with extra environment variables"
                extraEnvVarsSecret: 
                  type: "string"
                  default: ""
                  description: "Secret with extra environment variables"
                extraVolumes: 
                  type: "array"
                  default: "[]"
                  description: "Extra volumes to add to the deployment"
                extraVolumeMounts: 
                  type: "array"
                  default: "[]"
                  description: "Extra volume mounts to add to the container"
                initContainers: 
                  type: "array"
                  default: "[]"
                  description: "Add init containers to the %%MAIN_CONTAINER_NAME%% pods"
                sidecars: 
                  type: "array"
                  default: "[]"
                  description: "Add sidecars to the %%MAIN_CONTAINER_NAME%% pods"
                service: 
                  type: "object"
                  properties: 
                    type: 
                      type: "string"
                      default: "ClusterIP"
                      description: "Service type for default Data Platform metrics emitter service"
                    annotations: 
                      type: "object"
                      default: "{}"
                      description: "annotations for Data Platform emitter service"
                    labels: 
                      type: "object"
                      default: "{}"
                      description: "Additional labels for Data Platform emitter service"
                    ports: 
                      type: "object"
                      properties: 
                        http: 
                          type: "number"
                          default: 8091
                          description: "Kubernetes Service port"
                    loadBalancerIP: 
                      type: "string"
                      default: ""
                      description: "Load balancer IP for the dataplatform emitter Service (optional, cloud specific)"
                    nodePorts: 
                      type: "object"
                      properties: 
                        http: 
                          type: "string"
                          default: ""
                          description: "Node ports for the HTTP emitter service"
                    loadBalancerSourceRanges: 
                      type: "array"
                      default: "[]"
                      description: "Data Platform Emitter Load Balancer Source ranges"
                hostAliases: 
                  type: "array"
                  default: "[]"
                  description: "Deployment pod host aliases"
        kafka: 
          type: "object"
          properties: 
            enabled: 
              type: "boolean"
              default: true
              description: "Enable Kafka subchart"
            replicaCount: 
              type: "number"
              default: 3
              description: "Number of Kafka brokers"
            heapOpts: 
              type: "string"
              default: "-Xmx4096m -Xms4096m"
              description: "Kafka Java Heap size"
            resources: 
              type: "object"
              properties: 
                limits: 
                  type: "object"
                  default: "{}"
                  description: "Resource limits for Kafka"
                requests: 
                  type: "object"
                  properties: 
                    cpu: 
                      type: "string"
                      default: "250m"
                      description: "CPU capacity request for Kafka nodes"
                    memory: 
                      type: "string"
                      default: "5120Mi"
                      description: "Memory capacity request for Kafka nodes"
            affinity: 
              type: "object"
              properties: 
                podAntiAffinity: 
                  type: "object"
                  default: "{}"
                  description: "Kafka anti affinity rules"
                podAffinity: 
                  type: "object"
                  default: "{}"
                  description: "Kafka affinity rules"
            metrics: 
              type: "object"
              properties: 
                kafka: 
                  type: "object"
                  properties: 
                    enabled: 
                      type: "boolean"
                      default: false
                      description: "Enable prometheus exporter for Kafka"
                    resources: 
                      type: "object"
                      properties: 
                        limits: 
                          type: "object"
                          default: "{}"
                          description: "Resource limits for kafka prometheus exporter"
                        requests: 
                          type: "object"
                          properties: 
                            cpu: 
                              type: "string"
                              default: "100m"
                              description: "CPU capacity request for Kafka prometheus nodes"
                            memory: 
                              type: "string"
                              default: "128Mi"
                              description: "Memory capacity request for Kafka prometheus nodes"
                    service: 
                      type: "object"
                      properties: 
                        port: 
                          type: "number"
                          default: 9308
                          description: "Kafka Exporter Prometheus port to be used in wavefront configuration"
                jmx: 
                  type: "object"
                  properties: 
                    enabled: 
                      type: "boolean"
                      default: false
                      description: "Enable JMX exporter for Kafka"
                    resources: 
                      type: "object"
                      properties: 
                        limits: 
                          type: "object"
                          default: "{}"
                          description: "Resource limits for kafka prometheus exporter"
                        requests: 
                          type: "object"
                          properties: 
                            cpu: 
                              type: "string"
                              default: "100m"
                              description: "CPU capacity request for Kafka prometheus nodes"
                            memory: 
                              type: "string"
                              default: "128Mi"
                              description: "Memory capacity request for Kafka prometheus nodes"
                    service: 
                      type: "object"
                      properties: 
                        port: 
                          type: "number"
                          default: 5556
                          description: "JMX Prometheus exporter service port"
            zookeeper: 
              type: "object"
              properties: 
                enabled: 
                  type: "boolean"
                  default: true
                  description: "Enable the Kafka subchart's Zookeeper"
                replicaCount: 
                  type: "number"
                  default: 3
                  description: "Number of Zookeeper nodes"
                heapSize: 
                  type: "number"
                  default: 4096
                  description: "Size in MB for the Java Heap options (Xmx and XMs) in Zookeeper. This env var is ignored if Xmx an Xms are configured via JVMFLAGS"
                resources: 
                  type: "object"
                  properties: 
                    limits: 
                      type: "object"
                      default: "{}"
                      description: "Resource limits for zookeeper"
                    requests: 
                      type: "object"
                      properties: 
                        cpu: 
                          type: "string"
                          default: "250m"
                          description: "CPU capacity request for zookeeper"
                        memory: 
                          type: "string"
                          default: "5Gi"
                          description: "Memory capacity request for zookeeper"
                affinity: 
                  type: "object"
                  properties: 
                    podAntiAffinity: 
                      type: "object"
                      default: "{}"
                      description: "Zookeeper pod anti affinity rules"
            externalZookeeper: 
              type: "object"
              properties: 
                servers: 
                  type: "array"
                  default: "[]"
                  description: "Array of external Zookeeper servers"
        spark: 
          type: "object"
          properties: 
            enabled: 
              type: "boolean"
              default: true
              description: "Enable Spark subchart"
            master: 
              type: "object"
              properties: 
                webPort: 
                  type: "number"
                  default: 8080
                  description: "Web port for spark master"
                resources: 
                  type: "object"
                  properties: 
                    limits: 
                      type: "object"
                      default: "{}"
                      description: "Spark master resource limits"
                    requests: 
                      type: "object"
                      properties: 
                        cpu: 
                          type: "string"
                          default: "250m"
                          description: "Spark master CPUs"
                        memory: 
                          type: "string"
                          default: "5Gi"
                          description: "Spark master requested memory"
                affinity: 
                  type: "object"
                  properties: 
                    podAntiAffinity: 
                      type: "object"
                      default: "{}"
                      description: "Anti affinity rules set for resiliency"
            worker: 
              type: "object"
              properties: 
                replicaCount: 
                  type: "number"
                  default: 2
                  description: "Number of spark workers"
                webPort: 
                  type: "number"
                  default: 8081
                  description: "Web port for spark master"
                resources: 
                  type: "object"
                  properties: 
                    limits: 
                      type: "object"
                      default: "{}"
                      description: "Spark master resource limits"
                    requests: 
                      type: "object"
                      properties: 
                        cpu: 
                          type: "string"
                          default: "250m"
                          description: "Spark master CPUs"
                        memory: 
                          type: "string"
                          default: "5Gi"
                          description: "Spark master requested memory"
                affinity: 
                  type: "object"
                  properties: 
                    podAntiAffinity: 
                      type: "object"
                      default: "{}"
                      description: "Anti affinity rules set for resiliency"
            metrics: 
              type: "object"
              properties: 
                enabled: 
                  type: "boolean"
                  default: false
                  description: "Enable Prometheus exporter for Spark"
                masterAnnotations: 
                  type: "object"
                  default: "{}"
                  description: "Annotations for Spark master exporter"
                workerAnnotations: 
                  type: "object"
                  default: "{}"
                  description: "Annotations for Spark worker exporter"
        elasticsearch: 
          type: "object"
          properties: 
            enabled: 
              type: "boolean"
              default: true
              description: "Enable Elasticsearch"
            global: 
              type: "object"
              properties: 
                kibanaEnabled: 
                  type: "boolean"
                  default: true
                  description: "Enable Kibana"
            master: 
              type: "object"
              properties: 
                replicas: 
                  type: "number"
                  default: 3
                  description: "Number of Elasticsearch replicas"
                heapSize: 
                  type: "string"
                  default: "768m"
                  description: "Heap Size for Elasticsearch master"
                affinity: 
                  type: "object"
                  properties: 
                    podAntiAffinity: 
                      type: "object"
                      default: "{}"
                      description: "Anti affinity rules set for resiliency"
                resources: 
                  type: "object"
                  properties: 
                    limits: 
                      type: "object"
                      default: "{}"
                      description: "Elasticsearch master resource limits"
                    requests: 
                      type: "object"
                      properties: 
                        cpu: 
                          type: "string"
                          default: "250m"
                          description: "Elasticsearch master CPUs"
                        memory: 
                          type: "string"
                          default: "1Gi"
                          description: "Elasticsearch master requested memory"
            data: 
              type: "object"
              properties: 
                name: 
                  type: "string"
                  default: "data"
                  description: "Elasticsearch data node name"
                replicas: 
                  type: "number"
                  default: 2
                  description: "Number of Elasticsearch replicas"
                heapSize: 
                  type: "string"
                  default: "4096m"
                  description: "Heap Size for Elasticsearch data node"
                affinity: 
                  type: "object"
                  properties: 
                    podAntiAffinity: 
                      type: "object"
                      default: "{}"
                      description: "Anti affinity rules set for resiliency"
                resources: 
                  type: "object"
                  properties: 
                    limits: 
                      type: "object"
                      default: "{}"
                      description: "Elasticsearch data node resource limits"
                    requests: 
                      type: "object"
                      properties: 
                        cpu: 
                          type: "string"
                          default: "250m"
                          description: "Elasticsearch data node CPUs"
                        memory: 
                          type: "string"
                          default: "5Gi"
                          description: "Elasticsearch data node requested memory"
            coordinating: 
              type: "object"
              properties: 
                replicas: 
                  type: "number"
                  default: 2
                  description: "Number of Elasticsearch replicas"
                heapSize: 
                  type: "string"
                  default: "768m"
                  description: "Heap Size for Elasticsearch coordinating"
                affinity: 
                  type: "object"
                  properties: 
                    podAntiAffinity: 
                      type: "object"
                      default: "{}"
                      description: "Anti affinity rules set for resiliency"
                resources: 
                  type: "object"
                  properties: 
                    limits: 
                      type: "object"
                      default: "{}"
                      description: "Elasticsearch coordinating resource limits"
                    requests: 
                      type: "object"
                      properties: 
                        cpu: 
                          type: "string"
                          default: "250m"
                          description: "Elasticsearch coordinating CPUs"
                        memory: 
                          type: "string"
                          default: "1Gi"
                          description: "Elasticsearch coordinating requested memory"
            metrics: 
              type: "object"
              properties: 
                enabled: 
                  type: "boolean"
                  default: false
                  description: "Enable Prometheus exporter for Elasticsearch"
                resources: 
                  type: "object"
                  properties: 
                    limits: 
                      type: "object"
                      default: "{}"
                      description: "Elasticsearch metrics resource limits"
                    requests: 
                      type: "object"
                      properties: 
                        cpu: 
                          type: "string"
                          default: "100m"
                          description: "Elasticsearch metrics CPUs"
                        memory: 
                          type: "string"
                          default: "128Mi"
                          description: "Elasticsearch metrics requested memory"
                service: 
                  type: "object"
                  properties: 
                    annotations: 
                      type: "object"
                      default: "{}"
                      description: "Elasticsearch metrics service annotations"
        logstash: 
          type: "object"
          properties: 
            enabled: 
              type: "boolean"
              default: true
              description: "Enable Logstash"
            replicaCount: 
              type: "number"
              default: 2
              description: "Number of Logstash replicas"
            affinity: 
              type: "object"
              properties: 
                podAntiAffinity: 
                  type: "object"
                  default: "{}"
                  description: "Logstash pod anti affinity"
            extraEnvVars: 
              type: "array"
              default: "[]"
              description: "Array containing extra env vars to configure Logstash"
            resources: 
              type: "object"
              properties: 
                limits: 
                  type: "object"
                  default: "{}"
                  description: "Elasticsearch metrics resource limits"
                requests: 
                  type: "object"
                  properties: 
                    cpu: 
                      type: "string"
                      default: "250m"
                      description: "Elasticsearch metrics CPUs"
                    memory: 
                      type: "string"
                      default: "1500Mi"
                      description: "Elasticsearch metrics requested memory"
            metrics: 
              type: "object"
              properties: 
                enabled: 
                  type: "boolean"
                  default: false
                  description: "Enable metrics for logstash"
                resources: 
                  type: "object"
                  properties: 
                    limits: 
                      type: "object"
                      default: "{}"
                      description: "Elasticsearch metrics resource limits"
                    requests: 
                      type: "object"
                      properties: 
                        cpu: 
                          type: "string"
                          default: "100m"
                          description: "Elasticsearch metrics CPUs"
                        memory: 
                          type: "string"
                          default: "128Mi"
                          description: "Elasticsearch metrics requested memory"
                service: 
                  type: "object"
                  properties: 
                    port: 
                      type: "number"
                      default: 9198
                      description: "Logstash Prometheus port"
                    annotations: 
                      type: "object"
                      default: "{}"
                      description: "Annotations for the Prometheus metrics service"
        wavefront: 
          type: "object"
          properties: 
            enabled: 
              type: "boolean"
              default: false
              description: "Enable Tanzu Observability Framework"
            clusterName: 
              type: "string"
              default: "KUBERNETES_CLUSTER_NAME"
              description: "Cluster name"
            wavefront: 
              type: "object"
              properties: 
                url: 
                  type: "string"
                  default: "https://YOUR_CLUSTER.wavefront.com"
                  description: "Tanzu Observability cluster URL"
                token: 
                  type: "string"
                  default: "YOUR_API_TOKEN"
                  description: "Tanzu Observability access token"
                existingSecret: 
                  type: "string"
                  default: ""
                  description: "Tanzu Observability existing secret"
            collector: 
              type: "object"
              properties: 
                resources: 
                  type: "object"
                  properties: 
                    limits: 
                      type: "object"
                      default: "{}"
                      description: "Wavefront collector metrics resource limits"
                    requests: 
                      type: "object"
                      properties: 
                        cpu: 
                          type: "string"
                          default: "200m"
                          description: "Wavefront collector metrics CPUs"
                        memory: 
                          type: "string"
                          default: "10Mi"
                          description: "Wavefront collector metrics requested memory"
                discovery: 
                  type: "object"
                  properties: 
                    enabled: 
                      type: "boolean"
                      default: true
                      description: "Enable wavefront discovery"
                    enableRuntimeConfigs: 
                      type: "boolean"
                      default: true
                      description: "Enable runtime configs for wavefront discovery"
                    config: 
                      type: "array"
                      default: "[]"
                      description: "Wavefront discovery config"
            proxy: 
              type: "object"
              properties: 
                resources: 
                  type: "object"
                  properties: 
                    limits: 
                      type: "object"
                      default: "{}"
                      description: "Wavefront Proxy metrics resource limits"
                    requests: 
                      type: "object"
                      properties: 
                        cpu: 
                          type: "string"
                          default: "100m"
                          description: "Wavefront Proxy metrics CPUs"
                        memory: 
                          type: "string"
                          default: "5Gi"
                          description: "Wavefront Proxy metrics requested memory"
  template:
    spec:
      fetch:
      - helmChart:
          name: dataplatform-bp2
          version: "8.0.3"
          repository:
            url: https://charts.bitnami.com/bitnami
      template:
      - helmTemplate: {}
      deploy:
      - kapp:
          delete:
            rawOptions: ["--apply-ignored=true"]
